<!doctype html>
<html ng-app="BillerApp">
<head>
<meta charset="UTF-8">
<title>Biller Application</title>
<script src="../AngularJs-src/angular.min.js"></script>
<script src="BillerScript.js"></script>
</head>
<body ng-controller="BillerController">
<input type="text" ng-model="username"/><br>
<button ng-click="userAdd(username)">Add</button><br>
<p>UserName List : </p>
<p>{{userlist}}</p>
<hr />
<h3><center>Bill Items</center></h3>
<form name="billItemsForm" ng-submit="addBillItems(billItemsForm)">
Item Name : <input name="itemName" type="text" ng-model="itemname" required/>
<span class="error" ng-show="billItemsForm.itemName.$error.required">Required!</span><br>
Bill Date : <input name="billDate" type="date" ng-model="billdate" required/>
<span class="error" ng-show="billItemsForm.billDate.$error.required">Required!</span><br>
Paid By : <select name="paidBy" ng-model="paidby" required>
<option value ="">select a user</option>
<option value="{{user}}" ng-repeat="user in userlist">{{user}}</option>
</select>
<span class="error" ng-show="billItemsForm.paidBy.$error.required">Required!</span><br>
Shared By :<span class="error" ng-show="isSharedByListEmpty()">Required!</span><br>
<span ng-repeat="user in userlist">
<input name="sharedBy" type="checkbox" ng-click="updateSharedBy(user)" />{{user}}<br>
</span>
<input type="submit" value="Add Bill Item" ng-disabled="billItemsForm.$invalid || isSharedByListEmpty()"/><br>
<form>
<hr />
<table border="1">
	<tr>
		<th>S.No</th>
        <th>Item Name</th>
        <th>Date</th>
        <th>Paid By</th>
        <th>Shared By</th>
	</tr>
    <tr ng-repeat="billItem in billItems">
    	<td>1</td>
    	<td>{{billItem.itemname}}</td>
        <td>{{billItem.billdate}}</td>
        <td>{{billItem.paidby}}</td>
        <td><span ng-repeat="shareby in billItem.sharedbylist">
        		{{shareby}},
        	</span>
        </td>
    </tr>
</table>
</body>

</html>
